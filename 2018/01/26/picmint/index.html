<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/Torpedo.css">
  <link rel="stylesheet" href="/css/yewmint.css">
  <title>Picmint - 基于Tag的照片管理器 | Yewth</title>
</head>

  <body>
    <div id="wrapper">
      <header id="page-header">
  <div id="header-title">
    <a href="/">Yewth</a>
  </div>
  <div id="header-nav">
    <ul>
      
        <li><a target="_blank" class="menu-item " href="/">Index</a></li>
      
        <li><a target="_blank" class="menu-item " href="https://github.com/yewmint">GITHUB</a></li>
      
    </ul>
</header>

      <article class="article">
  <h1 id="-" class="article-title">Picmint - 基于Tag的照片管理器</h1>
  <p class="article-date">2018-01-26</p>
  <h2 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h2><p>为了让本地照片管理不再复杂，有一个现代化且美观的管理器</p>
<p>源码在 =&gt; <a href="https://github.com/yewmint/picmint" target="_blank" rel="external">Picmint</a></p>
<a id="more"></a>
<h2 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h2><p><img src="/images/picmint-0.jpg" alt="picmint-1"><br><img src="/images/picmint-1.jpg" alt="picmint-2"><br><img src="/images/picmint-2.jpg" alt="picmint-3"><br><img src="/images/picmint-3.jpg" alt="picmint-4"></p>
<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>随着平时积累的图片素材越来越多，单靠文件夹管理很不方便查找。一个比较简易的图片管理方法是利用Tag。Tag是一种描述图片某个特征的字符串，比如一副蓝天图片，就可以有一个<code>sky</code>的Tag。这种机制将图片中的事物文字化，变得方便管理。最重要的，是可以直接搜索图片中的内容。</p>
<p>由于我自己的图片容量过大，而且出于隐私的考虑，不适合用类似Google Photos之类的在线图片管理。但是，本地图片管理软件早已不再流行，市面上现存的大多数设计风格简陋，而且充斥着繁杂无用的功能。最近想尝试的Tag Space也不理想，界面拥挤，会随意修改文件名，而且它的维护似乎被搁置了。</p>
<p>于是我开始了Picmint项目，来构建自己的本地Tag管理App，这个App的特色在于：</p>
<ol>
<li>专注图片Tag管理，砍掉所有无关的功能。</li>
<li>最小化管理，Tag由Picmint管理，而图片文件由用户自行管理，Picmint不做任何修改。</li>
<li>利用图片文件Hash来储存Tag，保证任何相同的图片会有相同的Tag。即使图片删除，下次导入后Tag依然可用。</li>
<li>利用Cache保证读取速度。</li>
<li>现代化的界面设计，流畅的动画效果。</li>
</ol>
<h2 id="关于SPA框架"><a href="#关于SPA框架" class="headerlink" title="关于SPA框架"></a>关于SPA框架</h2><p>Picmint采用Electron来创建本地软件，所以最重要的是SPA Web框架的选择。</p>
<p>第一版尝试的是React+Redux，这个组合并不好。</p>
<p>Redux的术语很专业，但是专业就代表着使用复杂度高，从而就代表着容易出错。系统架构应该是平衡设计与实用，Redux的reducer显然是犯了设计过头的错误。</p>
<p>React提炼了组件，极大的解耦了前端的代码。但是，它却用最简陋的方法来实现状态管理。一个木桶能装的水量是由它的短板决定的，为了让React发挥全部实力，必须要配合Redux或者MobX。React和Redux虽说有全家桶的戏称，但它们之间却有着冗杂的接口。想让它们同时工作，需要很多用于连接的代码。而实际上，这些代码重复度很高，完全可以内建在Redux中。最终的项目中有许多冗余的代码，很不优雅。</p>
<p>第二版尝试的是Hyperapp，它是最近在Github上很火的微型框架，提供类似React的接口，却只有1KB。Hyperapp将React和Redux的功能融合在一体，简化了Connect的过程，使得代码变得更加简洁。</p>
<p>在实际使用过程中，它的缺点也很明显。框架为了变得极简，去掉了transition功能，而transition是各种动画效果的基础，导致只能自己手动管理动画状态。其次，它只支持在顶部连接状态，所有的组件只能从父级组件获取属性，很容易遇到参数向下传100层的情况。</p>
<p>第三版尝试了Vue+Vuex，和React+Redux不同，Vue和Vuex之间的结合相当好。它们之间自动Connect，自动监视修改，还自带了Redux最常用的Thunk Action，这才是真正的全家桶。最让我惊讶的是Vue Loader，它将模板、代码和样式完美地放在了一起，比React中的Jsx和各种CSS-IN-JS优雅了许多。</p>
<p>相比React的Jsx，Vue的绑定语法显得不太符合直觉。但是对比整个框架，React才是反直觉的。它给工程师暴露了渲染流程，即每次状态修改都构建一个虚拟树，对比差异后修改DOM。这个过程对于顺序执行的CPU来说很正常，但是对人类来说不是。人类会觉得，我修改一个数据，只需要更改跟这个数据相关的视图就可以了。而Vue就将创建虚拟树的过程内置，用符合直觉的API来编程。</p>
<p><strong>全文完</strong></p>

</article>

      <footer>
  <div class="footer">
    &copy; 2015-2016 Yewmint, All rights reserved.
  </div>
</footer>

    </div>
  </body>
</html>
